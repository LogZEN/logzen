{% extends "base.html" %}

{% if searchengine == "google" %}
  {% set searchengine = "https://www.google.com/search?q=" %}
  {% set searchengine_name = "Google" %}
{% else %}
  {% set searchengine = "https://ixquick.com/do/search?q=" %}
  {% set searchengine_name = "ixquick" %}
{% endif %}

{% block title %}Events{% endblock %}

{% block content %}

<div id="loading"></div>

<div class="row-fluid">
  <div class="span12">
  	<div id="navi" class="btn-toolbar">
    	<span id="eventcount"></span>
    	<div class="btn-group">
    		<a href="javascript:void(0);" class="btn q_tip" id="zoomoutbutton" title="Zoom out to a wider timerange">Zoom Out</a>
    	</div>
    	<div class="btn-group">
    		<a class="btn left q_tip" title="Newer" href="javascript:void(0);" id="prevbutton">Prev</a><a class="btn right q_tip" title="Older" href="javascript:void(0);" id="nextbutton">Next</a>
    	</div>
    </div>
  </div>
</div>

<div class="row-fluid">
 	<div class="span12">
	  <div id="chartdiv" style="height: 120px; width: 98%;"></div>
 	</div>
</div>

<div class="row-fluid">
  <form action="/_api/query" method="post" id="filterform" class="form-inline">
  <table id="events" class="table-condensed">
    <thead>
      <tr id="first">
        <th class="column_menu"></th>
        <th colspan="2">Time</th>
        <th colspan="2">Severity</th>
        <th colspan="2">Facility</th>
        <th colspan="2">Host</th>
        <th colspan="2">Program</th>
        <th colspan="2">Message</th>
      </tr>
      <tr>
        <th class="column_menu"></th>
        <th class="input-col" id="column_time">
          <input type="text" name="timereported" id="filter_timereported" placeholder="filter" readonly="readonly" size="5" />
        </th>
        <th class="clear-col"><span class="q_tip clear-addon btn" id="time" title="Clear this filter">x</span></th>
        <th class="input-col" id="column_severity">
          <input type="text" name="severity" id="filter_severity" class="filter" placeholder="filter" size="5" />
        </th>
        <th class="clear-col"><span class="q_tip clear-addon btn" id="severity" title="Clear this filter">x</span></th>
        <th class="input-col" id="column_facility">
          <input type="text" name="facility" id="filter_facility" class="filter" placeholder="filter" size="5" />
        </th>
        <th class="clear-col"><span class="q_tip clear-addon btn" id="facility" title="Clear this filter">x</span></th>
        <th class="input-col" id="column_host">
          <input type="text" name="fromhost" id="filter_fromhost" class="filter" placeholder="filter" size="5" {% if host %}value="{{host}}"{% endif %} />
        </th>
        <th class="clear-col"><span class="q_tip clear-addon btn" id="fromhost" title="Clear this filter">x</span></th>
        <th class="input-col" id="column_program">
          <input type="text" name="program" id="filter_program" class="filter" placeholder="filter" size="5" />
        </th>
        <th class="clear-col"><span class="q_tip clear-addon btn" id="program" title="Clear this filter">x</span></th>
        <th class="input-col" id="column_message">
          <input type="text" name="message" id="filter_message" class="filter" placeholder="filter" size="5" {% if message %}value="{{message}}"{% endif %} />
        </th>
        <th class="clear-col"><span class="q_tip clear-addon btn" id="message" title="Clear this filter">x</span></th>
      </tr>
    </thead>

    <tbody id="tbody_content">
      <tr>
        <td class="column_menu"></td>
        <td colspan="2"></td>
        <td colspan="2"></td>
        <td colspan="2"></td>
        <td colspan="2"></td>
        <td colspan="2"></td>
        <td colspan="2"></td>
      </tr>
    </tbody>
  </table>
  </form>
</div>

<script language="javascript" type="text/javascript" src="/static/js/eventlist.js"></script>


{% endblock %}