<div class="modal hide fade" id="widgetNumberError">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Error loading widgets</h3>
  </div>
  <div class="modal-body">
    <p>
      Unable to load dashboard widgets. 
      Please make sure your configuration is correct. <br />
      The number of columns is 12. When adding up the sizes 
      of all widget columns, this is the number you should get.
    </p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
  </div>
</div>

<script type="text/html" id="template_widget">
  <!-- div class="w" data-bind="text: $data"></div -->
  <div data-bind="widget: { vm: vm, html: html }"></div>
</script>

<script type="text/html" id="template_row">
  <div class="row-fluid" data-bind="template: { name: 'template_span', foreach: $data }">
  </div>
</script>

<script type="text/html" id="template_span">
  <div class="span6" data-bind="foreach: childs"> <!-- Use size here! -->
    <!-- ko if: Array.isArray($data) -->
      <div data-bind="template: {name: 'template_row'}"></div>
    <!-- /ko -->
    
    <!-- ko ifnot: Array.isArray($data) -->
      <div data-bind="template: {name: 'template_widget'}"></div>
    <!-- /ko -->
  </div>
</script>

<div id="dashboard">    
	<div data-bind="template: { name: 'template_row', data: layout }"></div>
</div>
